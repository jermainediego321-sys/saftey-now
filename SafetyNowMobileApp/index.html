<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Loadingâ€¦</title>

  <style>
    /* Full black background */
    body {
      margin: 0;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    /* Centered orb container */
    #orbWrapper {
      width: 180px;
      height: 180px;
    }

    /* Responsive sizes */
    @media (max-width: 480px) {
      #orbWrapper { width: 130px; height: 130px; }
    }
    @media (min-width: 900px) {
      #orbWrapper { width: 240px; height: 240px; }
    }
  </style>
</head>

<body>
  <div id="orbWrapper">
    <canvas id="orb3d"></canvas>
  </div>

  <!-- Minimal Three.js Orb -->
  <script type="module">
    import * as THREE from "https://unpkg.com/three@0.160.0/build/three.module.js";

    const wrapper = document.getElementById("orbWrapper");
    const canvas = document.getElementById("orb3d");

    const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(35, 1, 0.1, 10);
    camera.position.set(0, 0, 2.6);

    // Lights
    scene.add(new THREE.AmbientLight(0x38bdf8, 0.45));
    const rim = new THREE.DirectionalLight(0xffffff, 1.2);
    rim.position.set(2, 3, 4);
    scene.add(rim);

    // Main orb (Sasol blue)
    const orb = new THREE.Mesh(
      new THREE.SphereGeometry(0.9, 64, 64),
      new THREE.MeshPhysicalMaterial({
        color: 0x1B4D8C,
        roughness: 0.1,
        metalness: 0.2,
        transmission: 0.92,
        thickness: 0.6,
        clearcoat: 1.0,
        clearcoatRoughness: 0.08,
        emissive: new THREE.Color(0x38bdf8),
        emissiveIntensity: 0.15
      })
    );
    scene.add(orb);

    // Multicolour internal swirl (simple, smooth, light)
    const inner = new THREE.Mesh(
      new THREE.SphereGeometry(0.55, 32, 32),
      new THREE.MeshStandardMaterial({
        color: 0xffffff,
        emissive: new THREE.Color("#38bdf8"),
        emissiveIntensity: 1.2,
        transparent: true,
        opacity: 0.55
      })
    );
    scene.add(inner);

    // Add color-shifting effect
    let hue = 0;
    function colourShift() {
      hue += 0.003;
      inner.material.emissive.setHSL(hue % 1, 1, 0.5);
      requestAnimationFrame(colourShift);
    }
    colourShift();

    // Auto-rotation
    function animate() {
      orb.rotation.y += 0.002;
      inner.rotation.y -= 0.003;
      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }
    animate();

    // Resize
    function resize() {
      const w = wrapper.clientWidth;
      const h = wrapper.clientHeight;
      renderer.setSize(w, h, false);
      camera.aspect = w / h;
      camera.updateProjectionMatrix();
    }
    resize();
    new ResizeObserver(resize).observe(wrapper);

    // Redirect after longer time (7s)
    setTimeout(() => {
      window.location.href = "login.html";
    }, 7000);
  </script>
</body>
</html>
